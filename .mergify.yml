# Auto merge conditions when PR
pull_request_rules:
  - name: automatic merge on CircleCI success and review
    # Merge to master when:
    #   - Passes CircleCI test + more than 1 approve + no change request
    conditions:
      - base=master
      - status-success=ci/circleci: build
      - "#approved-reviews-by>=1"
      - "#changes-requested-reviews-by=0"
    actions:
      merge:
        method: merge
  - name: delete head branch after merge
    conditions: []
    actions:
      delete_head_branch: {}
